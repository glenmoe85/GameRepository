{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/thorb/Desktop/ReactProjects/Group CA/game-depository/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/thorb/Desktop/ReactProjects/Group CA/game-depository/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\thorb\\\\Desktop\\\\ReactProjects\\\\Group CA\\\\game-depository\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import{useState,useEffect}from'react';import axios from'axios';import GamesResults from'./GamesResults';import{jsx as _jsx}from\"react/jsx-runtime\";function Games(){var _useState=useState(0),_useState2=_slicedToArray(_useState,2),long=_useState2[0],setLong=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),lat=_useState4[0],setLat=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),loc=_useState6[0],setLoc=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),error=_useState8[0],setError=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),weather=_useState10[0],setWeather=_useState10[1];var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),temp=_useState12[0],setTemp=_useState12[1];useEffect(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!(\"geolocation\"in navigator)){setError('geolocation is not available');}navigator.geolocation.getCurrentPosition(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(pos){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setLat(pos.coords.latitude);setLong(pos.coords.longitude);_context.prev=2;_context.next=5;return axios(\"http://api.openweathermap.org/data/2.5/weather\",{params:{mode:'json',lat:pos.coords.latitude,lon:pos.coords.longitude,appid:\"a9987845c80c933c697521142e6fce7e\"}});case 5:response=_context.sent;setTemp(response.data.main.feels_like);setWeather(response.data.weather[0].description);setLoc(response.data.name);console.log(response.data);console.log(response.data.main.feels_like);_context.next=16;break;case 13:_context.prev=13;_context.t0=_context[\"catch\"](2);if(_context.t0.response.status===404){setError(\"Could not retrieve weather\");}else{setError(\"Weather data couldnt be retrieved\");}case 16:case\"end\":return _context.stop();}}},_callee,null,[[2,13]]);}));return function(_x){return _ref2.apply(this,arguments);};}(),function(err){setError(\"User denied geo access\");});case 2:case\"end\":return _context2.stop();}}},_callee2);})),[]);if(weather){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(GamesResults,{weather:weather,temp:temp,lat:lat,long:long,loc:loc})});}else if(error){return/*#__PURE__*/_jsx(\"div\",{children:error});}else{return/*#__PURE__*/_jsx(\"div\",{children:\"loading\"});}}export default Games;","map":{"version":3,"sources":["C:/Users/thorb/Desktop/ReactProjects/Group CA/game-depository/src/components/Games.js"],"names":["useState","useEffect","axios","GamesResults","Games","long","setLong","lat","setLat","loc","setLoc","error","setError","weather","setWeather","temp","setTemp","navigator","geolocation","getCurrentPosition","pos","coords","latitude","longitude","params","mode","lon","appid","response","data","main","feels_like","description","name","console","log","status","err"],"mappings":"ucAAA,OAAQA,QAAR,CAAkBC,SAAlB,KAAmC,OAAnC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,YAAP,KAAyB,gBAAzB,C,2CAEA,QAASC,CAAAA,KAAT,EAAiB,CAChB,cAAwBJ,QAAQ,CAAC,CAAD,CAAhC,wCAAOK,IAAP,eAAaC,OAAb,eACA,eAAsBN,QAAQ,CAAC,CAAD,CAA9B,yCAAOO,GAAP,eAAYC,MAAZ,eACA,eAAsBR,QAAQ,CAAC,CAAD,CAA9B,yCAAOS,GAAP,eAAYC,MAAZ,eACA,eAA0BV,QAAQ,CAAC,EAAD,CAAlC,yCAAOW,KAAP,eAAcC,QAAd,eACA,eAA8BZ,QAAQ,CAAC,EAAD,CAAtC,0CAAOa,OAAP,gBAAgBC,UAAhB,gBACC,gBAAwBd,QAAQ,CAAC,EAAD,CAAhC,2CAAOe,IAAP,gBAAaC,OAAb,gBAGDf,SAAS,sEAAC,wIACT,GAAG,EAAE,eAAiBgB,CAAAA,SAAnB,CAAH,CAAkC,CACjCL,QAAQ,CAAC,8BAAD,CAAR,CACA,CACDK,SAAS,CAACC,WAAV,CAAsBC,kBAAtB,2FAAyC,iBAAeC,GAAf,+HAExCZ,MAAM,CAACY,GAAG,CAACC,MAAJ,CAAWC,QAAZ,CAAN,CACAhB,OAAO,CAACc,GAAG,CAACC,MAAJ,CAAWE,SAAZ,CAAP,CAHwC,sCAOvBrB,CAAAA,KAAK,CAAC,gDAAD,CAAmD,CACxEsB,MAAM,CAAE,CACPC,IAAI,CAAE,MADC,CAEPlB,GAAG,CAAEa,GAAG,CAACC,MAAJ,CAAWC,QAFT,CAGPI,GAAG,CAAEN,GAAG,CAACC,MAAJ,CAAWE,SAHT,CAIPI,KAAK,CAAE,kCAJA,CADgE,CAAnD,CAPkB,QAOxCC,QAPwC,eAexCZ,OAAO,CAACY,QAAQ,CAACC,IAAT,CAAcC,IAAd,CAAmBC,UAApB,CAAP,CACAjB,UAAU,CAACc,QAAQ,CAACC,IAAT,CAAchB,OAAd,CAAsB,CAAtB,EAAyBmB,WAA1B,CAAV,CACAtB,MAAM,CAACkB,QAAQ,CAACC,IAAT,CAAcI,IAAf,CAAN,CACAC,OAAO,CAACC,GAAR,CAAYP,QAAQ,CAACC,IAArB,EACAK,OAAO,CAACC,GAAR,CAAYP,QAAQ,CAACC,IAAT,CAAcC,IAAd,CAAmBC,UAA/B,EAnBwC,iFAsBxC,GAAG,YAAEH,QAAF,CAAWQ,MAAX,GAAsB,GAAzB,CAA6B,CAC5BxB,QAAQ,CAAC,4BAAD,CAAR,CACA,CAFD,IAGK,CACJA,QAAQ,CAAC,mCAAD,CAAR,CACA,CA3BuC,qEAAzC,gEA6BE,SAASyB,GAAT,CAAc,CACfzB,QAAQ,CAAC,wBAAD,CAAR,CACA,CA/BD,EAJS,wDAAD,GAoCN,EApCM,CAAT,CAuCA,GAAGC,OAAH,CAAY,CACX,mBACC,kCACA,KAAC,YAAD,EAAc,OAAO,CAAEA,OAAvB,CAAgC,IAAI,CAAEE,IAAtC,CAA4C,GAAG,CAAER,GAAjD,CAAsD,IAAI,CAAEF,IAA5D,CAAkE,GAAG,CAAEI,GAAvE,EADA,EADD,CAKA,CAND,IAOK,IAAIE,KAAJ,CAAW,CACf,mBACK,qBAAMA,KAAN,EADL,CAGE,CAJE,IAKC,CACF,mBACG,gCADH,CAKD,CACH,CAED,cAAeP,CAAAA,KAAf","sourcesContent":["import {useState, useEffect } from 'react'\r\nimport\taxios from 'axios'\r\nimport GamesResults from './GamesResults';\r\n\r\nfunction Games() {\r\n\tconst [long, setLong] = useState(0)\r\n\tconst [lat, setLat] = useState(0)\r\n\tconst [loc, setLoc] = useState(0)\r\n\tconst [error, setError] = useState('')\r\n\tconst [weather, setWeather] = useState('')\r\n \tconst [temp, setTemp] = useState('')\r\n\r\n\r\n\tuseEffect(async function() {\r\n\t\tif(!(\"geolocation\" in navigator)) {\r\n\t\t\tsetError('geolocation is not available')\r\n\t\t}\r\n\t\tnavigator.geolocation.getCurrentPosition(async function(pos) {\r\n\t\t\tvar response\r\n\t\t\tsetLat(pos.coords.latitude)\r\n\t\t\tsetLong(pos.coords.longitude)\r\n\t\t\t\r\n\r\n\t\ttry {\r\n\t\t\tresponse = await axios(\"http://api.openweathermap.org/data/2.5/weather\", {\r\n\t\t\t\tparams: {\r\n\t\t\t\t\tmode: 'json',\r\n\t\t\t\t\tlat: pos.coords.latitude,\r\n\t\t\t\t\tlon: pos.coords.longitude,\r\n\t\t\t\t\tappid: \"a9987845c80c933c697521142e6fce7e\"\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\tsetTemp(response.data.main.feels_like)\r\n\t\t\tsetWeather(response.data.weather[0].description)\r\n\t\t\tsetLoc(response.data.name)\r\n\t\t\tconsole.log(response.data)\r\n\t\t\tconsole.log(response.data.main.feels_like)\r\n\t\t} \r\n\t\tcatch(e) {\r\n\t\t\tif(e.response.status === 404){\r\n\t\t\t\tsetError(\"Could not retrieve weather\")\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tsetError(\"Weather data couldnt be retrieved\")\r\n\t\t\t}\r\n\t\t}\r\n\t}, function(err) {\r\n\t\t\tsetError(\"User denied geo access\")\r\n\t\t})\r\n\t}, [])\r\n\r\n\r\n\tif(weather) {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t<GamesResults weather={weather} temp={temp} lat={lat} long={long} loc={loc} />\r\n\t\t\t</div>\r\n\t\t)\r\n\t} \r\n\telse if (error) {\r\n\t\treturn (\r\n     \t <div>{error}</div>\r\n   \t\t )\r\n \t } \r\n\t else {\r\n    \treturn (\r\n      \t\t<div>\r\n        \t\tloading\r\n      \t\t</div>\r\n    \t)\r\n  \t}\r\n}\r\n\r\nexport default Games"]},"metadata":{},"sourceType":"module"}